<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <title>μ¤λ§νΈν λ€μ‹λ³΄λ“</title>
  <link href="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
  <link href="details.css" rel="stylesheet" />
</head>
<body>
  <header>
    <div class="header-container">
      <div class="header-left">
        <h1 class="header-title">μ¤λ§νΈν λ€μ‹λ³΄λ“</h1>
        <!-- μ΄λ―Έμ§€ λ€μ‹  μ•„μ΄μ½ μ‚¬μ© -->
        <button class="mode-toggle" id="mode-toggle" onclick="toggleMode()">
          <i class="fas fa-sun"></i>
        </button>
      </div>
      <div class="header-right">
        <a href="#" id="farmname">New μ¤λ§νΈν</a>
        <span id="username">ν™κΈΈλ™λ‹</span>
        <button class="logout-btn" id="logout-btn">λ΅κ·Έμ•„μ›ƒ</button>
        <button class="settings-icon" id="settingsBtn">
          <i class="fas fa-cog"></i>
        </button>
      </div>
    </div>
  </header>

  <!-- μ„¤μ • ν¨λ„ -->
  <div class="settings-panel" id="settingsPanel">
    <div class="settings-content">
      <h2>μ„¤μ •</h2>
      <div class="setting-item">
        <div class="setting-label">
          <i class="fas fa-temperature-high setting-icon" style="color: var(--temp-color);"></i>
          <label>μ¨λ„ μµμ  μμΉ</label>
        </div>
        <div class="setting-inputs">
          <input id="temp-min" max="40" min="0" step="1" type="number" value="20" /> ~
          <input id="temp-max" max="40" min="0" step="1" type="number" value="30" /> Β°C
        </div>
      </div>
      <div class="setting-item">
        <div class="setting-label">
          <i class="fas fa-tint setting-icon" style="color: var(--humidity-color);"></i>
          <label>μµλ„ μµμ  μμΉ</label>
        </div>
        <div class="setting-inputs">
          <input id="humid-min" max="100" min="0" step="1" type="number" value="50" /> ~
          <input id="humid-max" max="100" min="0" step="1" type="number" value="70" /> %
        </div>
      </div>
      <div class="setting-item">
        <div class="setting-label">
          <i class="fas fa-leaf setting-icon" style="color: var(--soil-color);"></i>
          <label>ν† μ–‘ μλ¶„ μµμ  μμΉ</label>
        </div>
        <div class="setting-inputs">
          <input id="soil-min" max="100" min="0" step="1" type="number" value="40" /> ~
          <input id="soil-max" max="100" min="0" step="1" type="number" value="60" /> %
        </div>
      </div>
      <div class="setting-item">
        <div class="setting-label">
          <i class="fas fa-wind setting-icon" style="color: var(--co2-color);"></i>
          <label>CO2 μµμ  μμΉ</label>
        </div>
        <div class="setting-inputs">
          <input id="co2-min" max="2000" min="0" step="10" type="number" value="350" /> ~
          <input id="co2-max" max="2000" min="0" step="10" type="number" value="1000" /> ppm
        </div>
      </div>
      <div class="settings-buttons">
        <button id="closeSettings">μ·¨μ†</button>
        <button id="saveSettings">μ €μ¥</button>
      </div>
    </div>
  </div>

  <main>
    <!-- μ„±μ¥λ„ λ° μ•λ¦Ό λ°°λ„ -->
    <div class="banner-container">
      <div class="growth-banner">
        <div class="growth-info">
          <h2>μ‹λ¬Ό μ„±μ¥λ„</h2>
          <div class="growth-status">
            <div class="growth-circle">
              <div class="growth-circle-inner">
                <span class="growth-rate" id="growth-rate">45%</span>
              </div>
            </div>
            <div class="growth-details">
              <p class="growth-text" id="growthText">ν„μ¬ μ„±μ¥ λ‹¨κ³„: μ„±μ¥</p>
              <div class="stage-indicator">
                <div class="stage active" data-stage="μ”¨μ•—"><span class="stage-label">μ”¨μ•—</span></div>
                <div class="stage active" data-stage="μƒμ‹Ή"><span class="stage-label">μƒμ‹Ή</span></div>
                <div class="stage active" data-stage="μ„±μ¥"><span class="stage-label">μ„±μ¥</span></div>
                <div class="stage" data-stage="μ—΄λ§¤"><span class="stage-label">μ—΄λ§¤</span></div>
              </div>
              <div class="growth-info-details">
                <div class="info-row">
                  <i class="fas fa-calendar-alt info-icon"></i>
                  <span id="start-date">μ‹μ‘μΌ: 2023-05-01</span>
                </div>
                <div class="info-row">
                  <i class="fas fa-hourglass-half info-icon"></i>
                  <span id="d-day">D-Day: 15μΌ λ‚¨μ</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="notification-banner">
        <h2>μ•λ¦Ό</h2>
        <div class="alarm">
          <div class="alarm-content">
            <p class="text-bg" id="danger">π”΄ μ„ν—</p>
            <p class="text-md" id="danger-head">μ¨λ„κ°€ λ„λ¬΄ λ†’μµλ‹λ‹¤</p>
            <p class="text-md" id="danger-time">2023λ…„ 5μ›” 12μΌ 13:45λ¶„</p>
          </div>
          <div class="alarm-content">
            <p class="text-bg" id="warning">π΅ κ²½κ³ </p>
            <p class="text-md" id="warning-head">ν† μ–‘ μλ¶„μ΄ λ‚®μ•„μ§€κ³  μμµλ‹λ‹¤</p>
            <p class="text-md" id="warning-time">2023λ…„ 5μ›” 12μΌ 12:30λ¶„</p>
          </div>
          <div class="alarm-content">
            <p class="text-bg" id="complete">πΆ μ™„λ£</p>
            <p class="text-md" id="complete-head">κΈ‰μ μ™„λ£</p>
            <p class="text-md" id="complete-time">2023λ…„ 5μ›” 12μΌ 11:15λ¶„</p>
          </div>
        </div>
      </div>
    </div>

    <div class="tabs">
      <div class="tab active" data-tab="current">ν„μ¬ μƒνƒ</div>
      <div class="tab" data-tab="history">κΈ°λ΅ λ°μ΄ν„°</div>
      <div class="tab" data-tab="cctv">CCTV ν™”λ©΄</div>
      <div class="tab" data-tab="alarm">μ•λ¦Ό λ¦¬μ¤νΈ</div>
      <div class="tab" data-tab="writeDiary">μΌμ§€ λ¦¬μ¤νΈ</div>
    </div>

    <!-- ν„μ¬ μƒνƒ νƒ­ -->
    <div class="tab-content active" id="current-tab">
      <!-- μ„Όμ„ ν¨λ„ -->
      <div class="sensor-grid">
        <div class="card">
          <div class="card-header">
            <div class="card-title"><i class="fas fa-temperature-high" style="color: var(--temp-color);"></i> μ¨λ„</div>
          </div>
          <div class="card-content">
            <div class="flex-col gap-2">
              <div class="sensor-value temp">28<span class="sensor-unit">Β°C</span></div>
              <p class="text-sm text-muted">μµμ  μμΉ: <span class="font-medium" id="temp-optimal">20 ~ 30</span></p>
              <div class="mt-2">
                <div class="progress-container">
                  <div class="progress-bar temp" style="width: 63%;"></div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <div class="card-title"><i class="fas fa-tint" style="color: var(--humidity-color);"></i> μµλ„</div>
          </div>
          <div class="card-content">
            <div class="flex-col gap-2">
              <div class="sensor-value humidity">62<span class="sensor-unit">%</span></div>
              <p class="text-sm text-muted">μµμ  μμΉ: <span class="font-medium" id="humid-optimal">50 ~ 70</span></p>
              <div class="mt-2">
                <div class="progress-container">
                  <div class="progress-bar humidity" style="width: 62%;"></div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <div class="card-title"><i class="fas fa-leaf" style="color: var(--soil-color);"></i> ν† μ–‘ μλ¶„</div>
          </div>
          <div class="card-content">
            <div class="flex-col gap-2">
              <div class="sensor-value soil">55<span class="sensor-unit">%</span></div>
              <p class="text-sm text-muted">μµμ  μμΉ: <span class="font-medium" id="soil-optimal">40 ~ 60</span></p>
              <div class="mt-2">
                <div class="progress-container">
                  <div class="progress-bar soil" style="width: 55%;"></div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <div class="card-title"><i class="fas fa-wind" style="color: var(--co2-color);"></i> CO2</div>
          </div>
          <div class="card-content">
            <div class="flex-col gap-2">
              <div class="sensor-value co2">420<span class="sensor-unit">ppm</span></div>
              <p class="text-sm text-muted">μµμ  μμΉ: <span class="font-medium" id="co2-optimal">350 ~ 1000</span></p>
              <div class="mt-2">
                <div class="progress-container">
                  <div class="progress-bar co2" style="width: 42%;"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- μ¥μΉ μ μ–΄ ν¨λ„ -->
      <div class="card">
        <div class="card-header">
          <div class="card-title">μ¥μΉ μ μ–΄</div>
          <div class="card-description">μ¤λ§νΈν μ¥μΉλ¥Ό μ›κ²©μΌλ΅ μ μ–΄ν•©λ‹λ‹¤</div>
        </div>
        <div class="card-content">
          <div class="device-grid">
            <div class="device-item">
              <div class="device-icon led" id="led-icon"><i class="fas fa-lightbulb"></i></div>
              <div class="device-name">LED</div>
              <div class="switch-container">
                <label class="switch"><input id="led-switch" onchange="updateDevice('led')" type="checkbox" /><span
                    class="slider"></span></label>
                <span class="switch-label" id="led-status">κΊΌμ§</span>
              </div>
            </div>
            <div class="device-item">
              <div class="device-icon fan" id="fan-icon"><i class="fas fa-fan"></i></div>
              <div class="device-name">ν™ν’ν¬</div>
              <div class="switch-container">
                <label class="switch"><input id="fan-switch" onchange="updateDevice('fan')" type="checkbox" /><span
                    class="slider"></span></label>
                <span class="switch-label" id="fan-status">κΊΌμ§</span>
              </div>
            </div>
            <div class="device-item">
              <div class="device-icon water" id="water-icon"><i class="fas fa-tint"></i></div>
              <div class="device-name">κΈ‰μ</div>
              <div class="switch-container">
                <label class="switch"><input id="water-switch" onchange="updateDevice('water')"
                    type="checkbox" /><span class="slider"></span></label>
                <span class="switch-label" id="water-status">κΊΌμ§</span>
              </div>
            </div>
            <div class="device-item">
              <div class="device-icon heater" id="heater-icon"><i class="fas fa-fire"></i></div>
              <div class="device-name">νν„°</div>
              <div class="switch-container">
                <label class="switch"><input id="heater-switch" onchange="updateDevice('heater')"
                    type="checkbox" /><span class="slider"></span></label>
                <span class="switch-label" id="heater-status">κΊΌμ§</span>
              </div>
            </div>
            <div class="device-item">
              <div class="device-icon cooler" id="cooler-icon"><i class="fas fa-snowflake"></i></div>
              <div class="device-name">μΏ¨λ¬</div>
              <div class="switch-container">
                <label class="switch"><input id="cooler-switch" onchange="updateDevice('cooler')"
                    type="checkbox" /><span class="slider"></span></label>
                <span class="switch-label" id="cooler-status">κΊΌμ§</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- μ±—λ΄‡ ν¨λ„ -->
      <div class="card chatbot-card">
        <div class="card-header">
          <div class="card-title"><i class="fas fa-comment-dots" style="color: var(--primary-color);"></i> μ¤λ§νΈν μ±—λ΄‡</div>
          <div class="card-description">μ¤λ§νΈν κ΄€λ ¨ μ§λ¬Έμ— λ‹µλ³€ν•΄ λ“λ¦½λ‹λ‹¤</div>
        </div>
        <div class="card-content">
          <div class="chat-container">
            <div class="chat-messages">
              <div class="message bot">
                <div class="message-content">μ•λ…•ν•μ„Έμ”! μ¤λ§νΈν μ±—λ΄‡μ…λ‹λ‹¤. λ¬΄μ—‡μ„ λ„μ™€λ“λ¦΄κΉμ”?</div>
              </div>
              <div class="message user">
                <div class="message-content">ν† λ§ν†  μ¬λ°°μ— μ ν•©ν• μ¨λ„λ” μ–΄λ–»κ² λλ‚μ”?</div>
              </div>
              <div class="message bot">
                <div class="message-content">
                  ν† λ§ν†  μ¬λ°°μ— μ ν•©ν• μ¨λ„λ” μ£Όκ°„ 21-27Β°C, μ•Όκ°„ 16-18Β°Cμ…λ‹λ‹¤. ν„μ¬ μ„¤μ •λ μ¨λ„ λ²”μ„λ” 20-30Β°Cλ΅,
                  μ μ • λ²”μ„ λ‚΄μ— μμµλ‹λ‹¤.
                </div>
              </div>
            </div>
            <div class="chat-input">
              <input type="text" placeholder="λ©”μ‹μ§€λ¥Ό μ…λ ¥ν•μ„Έμ”..." id="chat-input-field" />
              <button class="send-button" id="send-button">μ „μ†΅</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- κΈ°λ΅ λ°μ΄ν„° νƒ­ -->
    <div class="tab-content" id="history-tab">
      <div class="card" style="margin-top: 1rem;">
        <div class="card-header">
          <div class="card-title">μ‹¤μ‹κ°„ μ„Όμ„ λ°μ΄ν„°</div>
          <div class="card-description">μµκ·Ό 24μ‹κ°„ λ°μ΄ν„° μ¶”μ΄</div>
        </div>
        <div class="card-content">
          <div class="chart-container"><canvas id="realtime-chart"></canvas></div>
        </div>
      </div>
      <div class="card">
        <div class="card-header">
          <div class="card-title">μ„Όμ„ λ°μ΄ν„° κΈ°λ΅</div>
          <div class="card-description">
            <span id="history-date"></span>
            <input type="date" id="date-picker" style="margin-left: 10px; padding: 5px; border-radius: 4px; border: 1px solid var(--border-color);">
          </div>        
        </div>
        <div class="card-content">
          <div class="sensor-tabs">
            <div class="sensor-tab active temp" data-sensor="temperature">μ¨λ„</div>
            <div class="sensor-tab humidity" data-sensor="humidity">μµλ„</div>
            <div class="sensor-tab soil" data-sensor="soil">ν† μ–‘ μλ¶„</div>
            <div class="sensor-tab co2" data-sensor="co2">CO2</div>
          </div>
          <div class="sensor-chart active" id="temperature-chart"><canvas id="temperature-canvas"></canvas></div>
          <div class="sensor-chart" id="humidity-chart"><canvas id="humidity-canvas"></canvas></div>
          <div class="sensor-chart" id="soil-chart"><canvas id="soil-canvas"></canvas></div>
          <div class="sensor-chart" id="co2-chart"><canvas id="co2-canvas"></canvas></div>
        </div>
        <div class="card-footer">
          <button class="btn" id="prev-date"><i class="fas fa-chevron-left"></i> μ΄μ „ λ‚ μ§</button>
          <button class="btn" id="next-date">λ‹¤μ λ‚ μ§ <i class="fas fa-chevron-right"></i></button>
        </div>
      </div>
    </div>

    <!-- CCTV ν™”λ©΄ νƒ­ -->
    <div class="tab-content" id="cctv-tab">
      <div class="card">
        <div class="card-header">
          <div class="card-title">μ¤λ§νΈν CCTV ν™”λ©΄</div>
        </div>
        <div class="card-content">
          <div class="iframe-wrapper">
            <iframe src="https://rd-advances-meters-reports.trycloudflare.com/monitor"></iframe>
          </div>
        </div>
      </div>
    </div>

    <!-- μ•λ¦Ό λ¦¬μ¤νΈ νƒ­ -->
    <div class="tab-content" id="alarm-tab">
      <div class="card">
        <div class="card-header">
          <div class="card-title">μ•λ¦Ό λ¦¬μ¤νΈ</div>
        </div>
        <div class="card-content">
          <div class="filter">
            <label for="alarm-filter">μ•λ¦Ό μ ν• ν•„ν„°: </label>
            <select id="alarm-filter">
              <option value="">μ „μ²΄</option>
              <option value="μ„ν—">μ„ν—</option>
              <option value="κ²½κ³ ">κ²½κ³ </option>
              <option value="μ™„λ£">μ™„λ£</option>
            </select>
          </div>
          <table id="alarm-list-table">
            <thead>
              <tr>
                <th>μ•λ¦Ό λ‚΄μ©</th>
                <th>μ‹κ°„</th>
                <th>μ¥μΉ</th>
                <th>μ ν•</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- μΌμ§€ λ¦¬μ¤νΈ νƒ­ -->
    <div class="tab-content" id="writeDiary-tab">
      <div class="card">
        <div class="card-header">
          <div class="card-title"><i class="fas fa-file-alt"></i> μ¤λ§νΈν μΌμΌ λ¦¬ν¬νΈ</div>
          <div class="card-description">μ¤λ§νΈνμ μΌμΌ λ°μ΄ν„°λ¥Ό λ¶„μ„ν•μ—¬ AIκ°€ μλ™μΌλ΅ λ¦¬ν¬νΈλ¥Ό μƒμ„±ν•©λ‹λ‹¤</div>
        </div>
        <div class="card-content">
          <div class="diary-actions">
            <button id="generateDiaryBtn" class="generate-report-btn">
              <i class="fas fa-plus-circle"></i> λ¦¬ν¬νΈ μƒμ„±
            </button>
            <div class="search-container">
              <i class="fas fa-search search-icon"></i>
              <input type="text" id="reportSearchInput" placeholder="λ‚ μ§λ΅ κ²€μƒ‰..." class="search-input">
            </div>
          </div>
          <div class="diary-list">
            <div class="diary-list-header">
              <h3><i class="fas fa-list"></i> μµκ·Ό μƒμ„±λ λ¦¬ν¬νΈ</h3>
              <span class="report-count" id="reportCount">0κ°</span>
            </div>
            <div class="diary-entries-container">
              <ul id="diaryEntries" class="diary-entries"></ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <footer>
    <div class="footer-container">
      <div class="footer-copyright">Β© 2023 μ¤λ§νΈν λ€μ‹λ³΄λ“. All rights reserved.</div>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
  <script src="details.js"></script>
</body>
</html>