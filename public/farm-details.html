<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ïä§ÎßàÌä∏Ìåú ÎåÄÏãúÎ≥¥Îìú</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/farm-details.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header>
        <div class="header-container">
            <div class="header-left">
                <h1 class="header-title">Ïä§ÎßàÌä∏Ìåú ÎåÄÏãúÎ≥¥Îìú</h1>
                <img id="mode-toggle" src="images/lightmode2.png" alt="Mode Toggle" style="width: 25px; cursor: pointer;">
            </div>      
            <div class="header-right">
                <p id="farm-type">ÏûëÎ¨º Ï¢ÖÎ•ò</p>
                <a href="dashboard.html" id="farmname">New Ïä§ÎßàÌä∏Ìåú</a>
                <span id="username">ÌôçÍ∏∏ÎèôÎãò</span>
                <button class="logout-btn" id="logout-btn">Î°úÍ∑∏ÏïÑÏõÉ</button>
                <div class="settings-icon" id="settingsBtn">‚ãÆ</div>
            </div>
        </div>
    </header>

    <!-- ÏÑ§Ï†ï Ìå®ÎÑê -->
    <div class="settings-panel" id="settingsPanel">
        <div class="settings-content">
            <h2>ÏÑ§Ï†ï</h2>
            
            <!-- ÏµúÏ†Å ÏàòÏπò ÏÑ§Ï†ï -->
            <div class="setting-item">
                <div class="setting-label">
                    <i class="fas fa-temperature-high setting-icon" style="color: var(--temp-color);"></i>
                    <label>Ïò®ÎèÑ ÏµúÏ†Å ÏàòÏπò</label>
                </div>
                <div class="setting-inputs">
                    <input type="number" id="temp-min" min="0" max="40" step="1"> ~
                    <input type="number" id="temp-max" min="0" max="40" step="1"> ¬∞C
                </div>
            </div>
            
            <div class="setting-item">
                <div class="setting-label">
                    <i class="fas fa-tint setting-icon" style="color: var(--humidity-color);"></i>
                    <label>ÏäµÎèÑ ÏµúÏ†Å ÏàòÏπò</label>
                </div>
                <div class="setting-inputs">
                    <input type="number" id="humid-min" min="0" max="100" step="1"> ~
                    <input type="number" id="humid-max" min="0" max="100" step="1"> %
                </div>
            </div>
            
            <div class="setting-item">
                <div class="setting-label">
                    <i class="fas fa-leaf setting-icon" style="color: var(--soil-color);"></i>
                    <label>ÌÜ†Ïñë ÏàòÎ∂Ñ ÏµúÏ†Å ÏàòÏπò</label>
                </div>
                <div class="setting-inputs">
                    <input type="number" id="soil-min" min="0" max="100" step="1"> ~
                    <input type="number" id="soil-max" min="0" max="100" step="1"> %
                </div>
            </div>
            
            <div class="setting-item">
                <div class="setting-label">
                    <i class="fas fa-wind setting-icon" style="color: var(--co2-color);"></i>
                    <label>CO2 ÏµúÏ†Å ÏàòÏπò</label>
                </div>
                <div class="setting-inputs">
                    <input type="number" id="co2-min" min="0" max="2000" step="10"> ~
                    <input type="number" id="co2-max" min="0" max="2000" step="10"> ppm
                </div>
            </div>

            <!-- Î≤ÑÌäº ÏòÅÏó≠ -->
            <div class="settings-buttons">
                <button id="closeSettings">Ï∑®ÏÜå</button>
                <button id="saveSettings">Ï†ÄÏû•</button>
            </div>
        </div>
    </div>

    <div class="floating-panel">
        <div class="panel-header">
            <h2 class="panel-title">ÏãùÎ¨º ÏÑ±Ïû•ÎèÑ</h2>
        </div>
        
        <div class="panel-content">
            <div class="image-container">
                <div class="image-inner">
                    <img id="plantImage" class="plant-image" src="images/11.png" alt="Ïî®Ïïó">
                </div>
            </div>
            
            <p class="growth-text" id="growthText">ÌòÑÏû¨ ÏÑ±Ïû• Îã®Í≥Ñ: Ïî®Ïïó</p>
            
            <button id="start-farm-btn" class="start-button">ÏãúÏûëÌïòÍ∏∞</button>
            
            <div id="crop-info">
                <div class="stage-indicator">
                    <div class="stage active" data-stage="Ïî®Ïïó">
                        <span class="stage-label">Ïî®Ïïó</span>
                    </div>
                    <div class="stage" data-stage="ÏÉàÏãπ">
                        <span class="stage-label">ÏÉàÏãπ</span>
                    </div>
                    <div class="stage" data-stage="ÏÑ±Ïû•">
                        <span class="stage-label">ÏÑ±Ïû•</span>
                    </div>
                    <div class="stage" data-stage="Ïó¥Îß§">
                        <span class="stage-label">Ïó¥Îß§</span>
                    </div>
                </div>
                
                <div class="info-row">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="info-icon">
                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                        <line x1="16" y1="2" x2="16" y2="6"></line>
                        <line x1="8" y1="2" x2="8" y2="6"></line>
                        <line x1="3" y1="10" x2="21" y2="10"></line>
                    </svg>
                    <span id="start-date">ÏãúÏûëÏùº: </span>
                </div>
                
                <div class="info-row">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="info-icon">
                        <circle cx="12" cy="12" r="10"></circle>
                        <polyline points="12 6 12 12 16 14"></polyline>
                    </svg>
                    <span id="d-day">D-Day: 0ÏùºÏß∏</span>
                </div>
                
                <div class="growth-circle-container">
                    <div class="growth-circle" id="growth-circle">
                        <span class="growth-rate" id="growth-rate">0%</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <main>
        <div class="tabs">
            <div class="tab active" data-tab="current">ÌòÑÏû¨ ÏÉÅÌÉú</div>
            <div class="tab" data-tab="history">Í∏∞Î°ù Îç∞Ïù¥ÌÑ∞</div>
            <div class="tab" data-tab="cctv">CCTV ÌôîÎ©¥</div>
            <div class="tab" data-tab="alarm">ÏïåÎ¶º Î¶¨Ïä§Ìä∏</div>
            <div class="tab" data-tab="writeDiary">ÏùºÏßÄ Î¶¨Ïä§Ìä∏</div>
        </div>

        <!-- ÌòÑÏû¨ ÏÉÅÌÉú ÌÉ≠ -->
        <div class="tab-content active" id="current-tab">
            <!-- ÏÑºÏÑú Îç∞Ïù¥ÌÑ∞ Ïπ¥Îìú -->
            <div class="grid grid-cols-1 grid-cols-2 grid-cols-4">
                <!-- Ïò®ÎèÑ Ïπ¥Îìú -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-temperature-high" style="color: var(--temp-color);"></i>
                            Ïò®ÎèÑ
                        </div>
                    </div>
                    <div class="card-content">
                        <div class="flex-col gap-2">
                            <div class="sensor-value temp">
                                0<span class="sensor-unit">¬∞C</span>
                            </div>
                            <p class="text-sm text-muted">
                                ÏµúÏ†Å ÏàòÏπò: <span class="font-medium" id="temp-optimal">0 ~ 0</span>
                            </p>
                            <div class="mt-2">
                                <div class="progress-container">
                                    <div class="progress-bar temp" style="width: 63%;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ÏäµÎèÑ Ïπ¥Îìú -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-tint" style="color: var(--humidity-color);"></i>
                            ÏäµÎèÑ
                        </div>
                    </div>
                    <div class="card-content">
                        <div class="flex-col gap-2">
                            <div class="sensor-value humidity">
                                0<span class="sensor-unit">%</span>
                            </div>
                            <p class="text-sm text-muted">
                                ÏµúÏ†Å ÏàòÏπò: <span class="font-medium" id="humid-optimal">0 ~ 0</span>
                            </p>
                            <div class="mt-2">
                                <div class="progress-container">
                                    <div class="progress-bar humidity" style="width: 62%;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ÌÜ†Ïñë ÏàòÎ∂Ñ Ïπ¥Îìú -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-leaf" style="color: var(--soil-color);"></i>
                            ÌÜ†Ïñë ÏàòÎ∂Ñ
                        </div>
                    </div>
                    <div class="card-content">
                        <div class="flex-col gap-2">
                            <div class="sensor-value soil">
                                0<span class="sensor-unit">%</span>
                            </div>
                            <p class="text-sm text-muted">
                                ÏµúÏ†Å ÏàòÏπò: <span class="font-medium" id="soil-optimal">0 ~ 0</span>
                            </p>
                            <div class="mt-2">
                                <div class="progress-container">
                                    <div class="progress-bar soil" style="width: 55%;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- CO2 Ïπ¥Îìú -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-wind" style="color: var(--co2-color);"></i>
                            CO2
                        </div>
                    </div>
                    <div class="card-content">
                        <div class="flex-col gap-2">
                            <div class="sensor-value co2">
                                0<span class="sensor-unit">ppm</span>
                            </div>
                            <p class="text-sm text-muted">
                                ÏµúÏ†Å ÏàòÏπò: <span class="font-medium" id="co2-optimal">0 ~ 0</span>
                            </p>
                            <div class="mt-2">
                                <div class="progress-container">
                                    <div class="progress-bar co2" style="width: 42%;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ïû•Ïπò Ï†úÏñ¥ Ïπ¥Îìú -->
            <div class="card" style="margin-top: 1.5rem;">
                <div class="card-header">
                    <div class="card-title">Ïû•Ïπò Ï†úÏñ¥</div>
                    <div class="card-description">Ïä§ÎßàÌä∏Ìåú Ïû•ÏπòÎ•º ÏõêÍ≤©ÏúºÎ°ú Ï†úÏñ¥Ìï©ÎãàÎã§</div>
                </div>
                <div class="card-content">
                    <div class="device-grid">
                        <!-- LED Ï†úÏñ¥ -->
                        <div class="device-item">
                            <div class="device-icon led" id="led-icon">
                                <i class="fas fa-lightbulb"></i>
                            </div>
                            <div class="device-name">LED</div>
                            <div class="switch-container">
                                <label class="switch">
                                    <input type="checkbox" id="led-switch" onchange="updateDevice('led')">
                                    <span class="slider"></span>
                                </label>
                                <span class="switch-label" id="led-status">Í∫ºÏßê</span>
                            </div>
                        </div>

                        <!-- ÌôòÌíçÌå¨ Ï†úÏñ¥ -->
                        <div class="device-item">
                            <div class="device-icon fan" id="fan-icon">
                                <i class="fas fa-fan"></i>
                            </div>
                            <div class="device-name">ÌôòÌíçÌå¨</div>
                            <div class="switch-container">
                                <label class="switch">
                                    <input type="checkbox" id="fan-switch">
                                    <span class="slider"></span>
                                </label>
                                <span class="switch-label" id="fan-status">Í∫ºÏßê</span>
                            </div>
                        </div>

                        <!-- Í∏âÏàò Ï†úÏñ¥ -->
                        <div class="device-item">
                            <div class="device-icon water" id="water-icon">
                                <i class="fas fa-tint"></i>
                            </div>
                            <div class="device-name">Í∏âÏàò</div>
                            <div class="switch-container">
                                <label class="switch">
                                    <input type="checkbox" id="water-switch">
                                    <span class="slider"></span>
                                </label>
                                <span class="switch-label" id="water-status">Í∫ºÏßê</span>
                            </div>
                        </div>

                        <!-- ÌûàÌÑ∞ Ï†úÏñ¥ -->
                        <div class="device-item">
                            <div class="device-icon heater" id="heater-icon">
                                <i class="fas fa-fire"></i>
                            </div>
                            <div class="device-name">ÌûàÌÑ∞</div>
                            <div class="switch-container">
                                <label class="switch">
                                    <input type="checkbox" id="heater-switch">
                                    <span class="slider"></span>
                                </label>
                                <span class="switch-label" id="heater-status">Í∫ºÏßê</span>
                            </div>
                        </div>

                        <!-- Ïø®Îü¨ Ï†úÏñ¥ -->
                        <div class="device-item">
                            <div class="device-icon cooler" id="cooler-icon">
                                <i class="fas fa-wind"></i>
                            </div>
                            <div class="device-name">Ïø®Îü¨</div>
                            <div class="switch-container">
                                <label class="switch">
                                    <input type="checkbox" id="cooler-switch">
                                    <span class="slider"></span>
                                </label>
                                <span class="switch-label" id="cooler-status">Í∫ºÏßê</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="grid grid-cols-2">
                <!-- ÏûêÏõê ÏÇ¨Ïö©Îüâ Ïπ¥Îìú -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div class="card-header">
                        <div class="card-title">ÏûêÏõê ÏÇ¨Ïö©Îüâ</div>
                        <div class="card-description">Î¨º, Ï†ÑÍ∏∞, ÏòÅÏñëÎ∂Ñ ÏÇ¨Ïö©Îüâ</div>
                    </div>
                    <div class="card-content">

                    </div>
                </div>
                <!-- ÏïåÎ¶º Ïπ¥Îìú -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div class="card-header">
                        <div class="card-title">ÏïåÎ¶º</div>
                        <div class="card-description">ÏµúÍ∑º ÏãúÏä§ÌÖú ÏïåÎ¶º Î∞è Í≤ΩÍ≥†</div>
                    </div>
                    <div class="card-content">
                        <div class="alarm">
                            <div class="alarm-content">
                                <p class="text-bg" id="danger">üî¥ ÏúÑÌóò</p>
                                <p class="text-md" id="danger-head">ÏïåÎ¶º ÏóÜÏùå</p>
                                <p class="text-md" id="danger-time">ÏãúÍ∞Ñ</p>
                            </div>
                            <div class="alarm-content">
                                <p class="text-bg" id="warning">üü° Í≤ΩÍ≥†</p>
                                <p class="text-md" id="warning-head">ÏïåÎ¶º ÏóÜÏùå</p>
                                <p class="text-md" id="warning-time">ÏãúÍ∞Ñ</p>
                            </div>
                        
                            <div class="alarm-content">
                                <p class="text-bg" id="complete">üü¢ ÏôÑÎ£å</p>
                                <p class="text-md" id="complete-head">ÏïåÎ¶º ÏóÜÏùå</p>
                                <p class="text-md" id="complete-time">ÏãúÍ∞Ñ</p>
                            </div>
                        </div>     
                    </div>
                </div>
            </div>
        </div>

        <!-- Í∏∞Î°ù Îç∞Ïù¥ÌÑ∞ ÌÉ≠ -->
        <div class="tab-content" id="history-tab">
            <!-- Ïã§ÏãúÍ∞Ñ ÏÑºÏÑú Îç∞Ïù¥ÌÑ∞ Í∑∏ÎûòÌîÑ -->
            <div class="card" style="margin-top: 1.5rem;">
                <div class="card-header">
                    <div class="card-title">Ïã§ÏãúÍ∞Ñ ÏÑºÏÑú Îç∞Ïù¥ÌÑ∞</div>
                    <div class="card-description">ÏµúÍ∑º 24ÏãúÍ∞Ñ Îç∞Ïù¥ÌÑ∞ Ï∂îÏù¥</div>
                </div>
                <div class="card-content">
                    <div class="chart-container">
                        <canvas id="realtime-chart"></canvas>
                    </div>
                </div>
            </div>
            <!-- ÏÑºÏÑú Îç∞Ïù¥ÌÑ∞ Í∏∞Î°ù Í∑∏ÎûòÌîÑ -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">ÏÑºÏÑú Îç∞Ïù¥ÌÑ∞ Í∏∞Î°ù</div>
                    <div class="card-description" id="history-date"></div>
                </div>
                <div class="card-content">
                    <div class="sensor-tabs">
                        <div class="sensor-tab active temp" data-sensor="temperature">Ïò®ÎèÑ</div>
                        <div class="sensor-tab humidity" data-sensor="humidity">ÏäµÎèÑ</div>
                        <div class="sensor-tab soil" data-sensor="soil">ÌÜ†Ïñë ÏàòÎ∂Ñ</div>
                        <div class="sensor-tab co2" data-sensor="co2">CO2</div>
                    </div>

                    <div class="sensor-chart active" id="temperature-chart">
                        <canvas id="temperature-canvas"></canvas>
                    </div>
                    <div class="sensor-chart" id="humidity-chart">
                        <canvas id="humidity-canvas"></canvas>
                    </div>
                    <div class="sensor-chart" id="soil-chart">
                        <canvas id="soil-canvas"></canvas>
                    </div>
                    <div class="sensor-chart" id="co2-chart">
                        <canvas id="co2-canvas"></canvas>
                    </div>
                </div>
                <div class="card-footer">
                    <button class="btn" id="prev-date">
                        <i class="fas fa-chevron-left"></i>
                        Ïù¥Ï†Ñ ÎÇ†Ïßú
                    </button>
                    <button class="btn" id="next-date">
                        Îã§Ïùå ÎÇ†Ïßú
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>

            <!-- ÏùºÏùº ÏÑºÏÑú Îç∞Ïù¥ÌÑ∞ ÏöîÏïΩ -->
            <div class="card" style="margin-top: 1.5rem;">
                <div class="card-header">
                    <div class="card-title">ÏùºÏùº ÏÑºÏÑú Îç∞Ïù¥ÌÑ∞ ÏöîÏïΩ</div>
                    <div class="card-description" id="summary-date"></div>
                </div>
                <div class="card-content">
                    <div class="chart-container">
                        <canvas id="summary-chart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Ïä§ÎßàÌä∏Ìåú ÏùºÏßÄ ÏûëÏÑ± ÌÉ≠ -->
        <div class="tab-content" id="writeDiary-tab">
            <div class="card">
                <div class="card-header">
                    <div class="card-title">Ïä§ÎßàÌä∏Ìåú Ïö¥ÏòÅ ÏùºÏßÄ</div>
                </div>
                <div class="card-content">
                    <div class="diary-actions">
                        <button id="generateDiaryBtn">ÏûêÎèô ÏùºÏßÄ ÏûëÏÑ±</button>
                    </div>

                    <div class="diary-list">
                        <h2>ÏµúÍ∑º ÏûëÏÑ±Îêú ÏùºÏßÄ</h2>
                        <ul id="diaryEntries"></ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- CCTV ÌôîÎ©¥ ÌÉ≠ -->
        <div class="tab-content" id="cctv-tab">
            <div class="card">
                <div class="card-header">
                    <div class="card-title">Ïä§ÎßàÌä∏Ìåú CCTV ÌôîÎ©¥</div>
                </div>
                <div class="card-content">
                    <div class="iframe-wrapper">
                        <iframe src="https://marsh-weather-reasonable-vids.trycloudflare.com/monitor"></iframe>
                    </div>
                </div>
            </div>
        </div>

        <!-- ÏïåÎ¶º Î¶¨Ïä§Ìä∏ ÌÉ≠ -->
        <div class="tab-content" id="alarm-tab">
            <div class="card">
                <div class="card-header">
                    <div class="card-title">ÏïåÎ¶º Î¶¨Ïä§Ìä∏</div>
                </div>
                <div class="card-content">
                    <div class="filter">
                        <label for="alarm-filter">ÏïåÎ¶º Ïú†Ìòï ÌïÑÌÑ∞: </label>
                        <select id="alarm-filter">
                            <option value="">Ï†ÑÏ≤¥</option>
                            <option value="ÏúÑÌóò">ÏúÑÌóò</option>
                            <option value="Í≤ΩÍ≥†">Í≤ΩÍ≥†</option>
                            <option value="ÏôÑÎ£å">ÏôÑÎ£å</option>
                        </select>
                    </div>
                    <table id="alarm-list-table">
                        <thead>
                            <tr>
                                <th>ÏïåÎ¶º ÎÇ¥Ïö©</th>
                                <th>ÏãúÍ∞Ñ</th>
                                <th>Ïû•Ïπò</th>
                                <th>Ïú†Ìòï</th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </main>

    <div id="toast" class="toast"></div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <script src="js/farm-details.js"></script>
    <script src="js/charts.js"></script>
</body>
</html>

